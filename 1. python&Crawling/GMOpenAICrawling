from urllib.request import urlopen
from urllib.parse import quote_plus as qp
from bs4 import BeautifulSoup
from selenium import webdriver
import time

baseurl ='https://www.instagram.com/explore/tags/'
plusurl=input('검색할 태그를 입력하세요:')
url=baseurl+qp(plusurl)
print(url)

driver=webdriver.Chrome()
driver.get(url)
time.sleep(3)
html=driver.page_source
soup = BeautifulSoup(html, features="html.parser")

n=1
insta=soup.select('._aagv')
print(insta[0])
soup=BeautifulSoup(insta[0],features="html.parser")
img_src=soup.find('img')['src']
print(img_src)

# for i in insta:
#     soup=BeautifulSoup(insta[i],'html.parser')
#     img_src=soup.find('img')['src']
#     print(img_src)
#     with urlopen(imgurl) as f:
#         with open('./img/'+plusurl+str(n)+'.jpg','wb') as h:
#             img=f.read()
#             h.write(img)
#         n+=1    
# driver.close()